---
title: 工作笔记
link: link
start: 2021-01-25
date: 
updated: 
categories: 笔记
tags: [iOS, Android]
---

## 目前环境与框架

硬件: MacBook Pro 2017
OS: macOS Mojave
Android: Android Studio3.2, Java8, MVP, Retrofit
iOS: Xcode11, Swift5, Storyboard, Alamofire

## iOS 捕捉 UIImagePickerController 下拉返回事件

问题：

UIImagePickerControllerDelegate 中只有选择图片和点击取消事件，而没有下拉返回事件。而进入 UIImagePickerController 前我会使原界面进入 loading 状态，于是下拉返回后依然在 loading 状态。

解决：

> [参考](https://stackoverflow.com/questions/60809825/detect-if-imagepickercontroller-is-closed-with-swipe-down-gesture-with-objective)

注：Swift 没有匿名内部类

```swift
class X: UIAdaptivePresentationControllerDelegate {

    func presentPicker() {
        let picker = UIImagePickerController()
        picker.presentationController?.delegate = self
    }

    func presentationControllerDidDismiss(_ presentationController: UIPresentationController) {
        //TODO: 取消 loading
    }

}
```

## iOS 模拟器模拟两点点击

按住⌥：显示两点，位置以模拟器中心点中心对称
按住⇧⌥：固定两点相对位置

似乎不能模拟三点或更多点

## XCode 上传包失败问题

Mac 的邮件 App 里连接 Gmail 需要在系统设置里开启 SOCKS 代理，参考 [知乎](https://www.zhihu.com/question/27289501/answer/498254559)。
不过 XCode 上传包也用的 SOCKS 协议，而且代理后会上传失败，所以需要暂时关闭 SOCKS 代理。
当然包上传失败还有很多原因。
