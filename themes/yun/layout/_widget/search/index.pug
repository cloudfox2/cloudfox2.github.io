if theme.engine_search && theme.engine_search.enable
  a#search.popup-trigger.hty-icon-button.icon-search(href=theme.engine_search.href + theme.engine_search.domain, title=__('menu.search'))
    span.site-state-item-icon
      +icon('icon-search-line')
else
  a#search.popup-trigger.hty-icon-button.icon-search(href='javascript:;', title=__('menu.search'))
    span.site-state-item-icon
      +icon('icon-search-line')
  script(defer, src=url_for(theme.cdn.pre + theme.vendors.search))

  if theme.algolia_search && theme.algolia_search.enable
    include algolia-search.pug
  else if theme.local_search && theme.local_search.enable
    include local-search.pug

  .popup.search-popup
    .search-header
      span.popup-btn-close.close-icon.hty-icon-button
        +icon('icon-close-line')

    if theme.algolia_search.enable
      .search-input-container
      .algolia-results
        #algolia-stats
        #algolia-hits
        #algolia-pagination.algolia-pagination

    if theme.local_search.enable
      .search-input-container
        input#local-search-input.search-input(type='text', placeholder=theme.search.placeholder || __('search.placeholder'), value="")
      #local-search-result


